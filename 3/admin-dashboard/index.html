<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard Admin  StarCoffe</title>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

  <style>
    :root {
      --first-color: hsl(166, 80%, 40%);
      --first-color-alt: hsl(166, 78%, 38%);
      --title-color: hsl(166, 95%, 15%);
      --text-color: hsl(166, 12%, 40%);
      --white-color: hsl(166, 100%, 99%);
      --body-color: hsl(166, 56%, 18%);
    }

    body {
      font-family: 'Montserrat', sans-serif;
      background-color: var(--body-color);
      color: var(--white-color);
    }

    .bg-starcoffe {
      background-color: var(--first-color);
      color: white;
    }

    .btn-starcoffe {
      background-color: var(--first-color);
      color: white;
    }

    .btn-starcoffe:hover {
      background-color: var(--first-color-alt);
      color: white;
    }
     

   .grille-produits {
  display: grid;
  grid-template-columns: repeat(3, 1fr); /* ← FORCÉ à 3 colonnes */
  gap: 2rem;
  padding: 2rem;
  justify-items: center;
}

.carte-produit {
  background-color: white;
  border-radius: 16px;
  padding: 1.5rem;
  text-align: center;
  width: 260px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
  transition: transform 0.2s ease;
  color: var(--title-color);
}

.carte-produit:hover {
  transform: translateY(-5px);
}

.carte-produit img {
  width: 120px;
  height: 120px;
  object-fit: contain;
  margin-bottom: 1rem;
}

.carte-produit h4 {
  font-size: 1rem;
  font-weight: bold;
  margin: 0.5rem 0;
  text-transform: uppercase;
}

.carte-produit p {
  color: var(--first-color);
  font-size: 1.1rem;
  font-weight: bold;
  margin: 0;
}
#userTable {
  width: 100%;
  border-collapse: collapse;
  background-color: var(--dark-color);
  color: var(--white-color);
  font-family: var(--body-font);
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25);
}

#userTable thead {
  background-color: var(--first-color);
  color: var(--white-color);
  text-transform: uppercase;
  font-weight: var(--font-semi-bold);
  font-size: var(--small-font-size);
  letter-spacing: 0.5px;
}

#userTable th, #userTable td {
  padding: 14px 20px;
  text-align: left;
  border-bottom: 1px solid var(--first-color-alt);
}

#userTable tr:last-child td {
  border-bottom: none;
}

#userTable tr:hover {
  background-color: hsl(166, 35%, 20%);
  transition: background 0.3s;
}

/* Style du bouton Supprimer */
#userTable button {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  background-color: var(--first-color-alt);
  color: var(--white-color);
  border: none;
  padding: 8px 14px;
  border-radius: 8px;
  font-weight: var(--font-medium);
  font-size: var(--small-font-size);
  cursor: pointer;
  transition: background 0.3s;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
}

#userTable button:hover {
  background-color: var(--title-color);
}

#liste-commandes .commande-card {
  background-color: var(--dark-color);
  color: var(--white-color);
  border-radius: 12px;
  padding: 20px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  transition: transform 0.2s;
}

#liste-commandes .commande-card:hover {
  transform: scale(1.01);
}

#liste-commandes ul {
  padding-left: 1rem;
}

#liste-commandes li {
  margin-bottom: 4px;
}

.card-stat {
  background-color: hsl(166, 10%, 12%);
  border-radius: 14px;
  padding: 20px;
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
  display: flex;
  align-items: flex-start;
  gap: 18px;
  color: var(--white-color);
  transition: background 0.2s, transform 0.2s;
}

.card-stat:hover {
  background-color: hsl(166, 10%, 18%);
  transform: translateY(-3px);
}

.card-stat .icon {
  font-size: 1.8rem;
  color: var(--first-color);
  background-color: rgba(255, 255, 255, 0.06);
  padding: 10px;
  border-radius: 10px;
  width: 45px;
  height: 45px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.card-stat .stat-content h5 {
  margin: 0;
  font-size: 1rem;
  font-weight: var(--font-medium);
  color: var(--text-color);
}

.card-stat .stat-content p {
  font-size: 1.25rem;
  margin: 4px 0 0;
  font-weight: var(--font-semi-bold);
  color: var(--first-color);
}

.card-stat ul {
  margin: 8px 0 0;
  padding-left: 20px;
  color: var(--white-color);
}


/* Carte du stock */
.stock-card {
  background-color: #1a1a1a;
  border-left: 4px solid var(--first-color);
  padding: 1.5rem;
  border-radius: 12px;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
  transition: transform 0.2s ease;
}
.stock-card:hover {
  transform: scale(1.01);
}

.stock-title {
  font-size: 1.3rem;
  font-weight: 600;
  color: var(--white-color);
  margin-bottom: 0.5rem;
}

.stock-info {
  font-size: 1rem;
  color: var(--white-color);
  margin-bottom: 0.3rem;
}

.stock-ok, .stock-low, .stock-out {
  padding: 5px 12px;
  border-radius: 15px;
  font-weight: 600;
  font-size: 0.85rem;
  float: right;
}

.stock-ok {
  background-color: var(--first-color);
  color: #fff;
}
.stock-low {
  background-color: #f39c12;
  color: #fff;
}
.stock-out {
  background-color: #e74c3c;
  color: #fff;
}








    
  </style>
</head>

<body>
  <!-- Dans le nav (modifié) -->
<nav class="navbar navbar-expand-lg bg-starcoffe px-4">
  <a class="navbar-brand text-white" href="#">StarCoffe Admin</a>
  <div class="ms-auto text-white d-flex align-items-center">
    <i class="bi bi-person-circle me-2"></i>Bienvenue, Yoan
    <button onclick="logout()" class="btn btn-sm btn-light ms-3">
      <i class="bi bi-box-arrow-right"></i> Déconnexion
    </button>
  </div>
</nav>


  <div class="container-fluid">
    <div class="row">
      <!-- Sidebar -->
      <div class="col-md-2 bg-dark min-vh-100 p-3">
        <ul class="nav flex-column">
          <li class="nav-item">
            <a class="nav-link text-white" href="#" onclick="afficherSection('produits')"><i class="bi bi-box-seam me-2"></i>Produits</a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-white" href="#" onclick="afficherSection('commandes')"><i class="bi bi-cart4 me-2"></i>Commandes</a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-white" href="#" onclick="afficherSection('ajout')"><i class="bi bi-plus-circle me-2"></i>Ajouter produit</a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-white" href="#" onclick="afficherSection('utilisateurs')"><i class="bi bi-person-circle me-2"></i>Utilisateurs</a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-white" href="#" onclick="afficherSection('stats')"><i class="bi bi-bar-chart me-2"></i>Statistiques</a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-white" href="#" onclick="afficherSection('stock')"><i class="bi bi-boxes me-2"></i>État du stock</a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-white" href="../../3/index.html">
              <i class="bi bi-globe me-2"></i> Voir le site client
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-white" href="#" onclick="afficherSection('historique')">
              <i class="bi bi-clock-history me-2"></i>Historique connexions
            </a>
          </li>



          

        </ul>
      </div>

      <!-- Main Content -->
      <div class="col-md-10 p-4">
        <section id="produits" class="d-none" style="max-width: 1200px; margin: auto;">
          <h3 class="text-white" style="text-align: center;"> Liste des Produits</h3>
          <div class="mb-3">
            <input type="text" id="searchProductInput" class="form-control" placeholder=" Rechercher un produit...">
          </div>
          <div id="liste-produits"></div>
        </section>

        <section id="commandes" class="d-none" style="max-width: 1000px; margin: auto;">
          <h3 class="text-white text-center mb-4"> Commandes reçues</h3>

          <!-- Barre de filtres -->
          <div class="d-flex flex-wrap gap-3 align-items-center justify-content-between mb-4">
            <div class="d-flex flex-wrap gap-3">
              <input type="text" id="filtre-email" class="form-control" placeholder=" Rechercher par email" style="min-width: 220px;">
              <select id="filtre-date" class="form-select" style="min-width: 180px;">
                <option value="all"> Toutes les dates</option>
                <option value="today"> Aujourd’hui</option>
                <option value="week"> Cette semaine</option>
              </select>
            </div>
            <button onclick="exporterCSV()" class="btn btn-success d-flex align-items-center gap-2">
              <i class="bx bx-download"></i> Exporter CSV
            </button>
          </div>

          <!-- Résultat des commandes -->
          <div id="liste-commandes" class="d-flex flex-column gap-3"></div>
        </section>



          <section id="utilisateurs" class="d-none" style="max-width: 1000px; margin: auto;">
            <h3 class="text-white text-center mb-4"> Liste des clients</h3>
            <table id="userTable" class="table table-dark table-striped table-bordered">
              <thead>
                <tr>
                  <th>Email</th>
                  <th>Date d'inscription</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </section>

           <section id="stats" class="d-none" style="max-width: 1100px; margin: auto;">
            <h3 class="text-white text-center mb-5"> Statistiques des ventes</h3>
            
            <div class="row g-4" id="bloc-stats">
              <!-- Les cartes seront injectées ici dynamiquement -->
            </div>
          </section>
          <div class="col-12 mt-5">
            <div class="card-stat p-4">
              <h5 class="text-white mb-4">Évolution des commandes</h5>
              <canvas id="chartCommandes"></canvas>
            </div>
          </div>


          <section id="stock" class="d-none" style="max-width: 1000px; margin: auto;">
            <h3 class="text-white text-center mb-4"> État du stock</h3>
            <div id="liste-stock" class="d-flex flex-column gap-3"></div>
          </section>








        <section id="ajout" class="d-none">
          <h3 class="text-white"> Ajouter un Produit</h3>
          <form id="form-ajout-produit" class="mt-3">
            <div class="mb-3">
              <label class="form-label">Nom du produit</label>
              <input type="text" class="form-control" id="nomProduit" required>
            </div>
            <div class="mb-3">
              <label class="form-label">Prix</label>
              <input type="number" class="form-control" id="prixProduit" required>
            </div>
            <div class="mb-3">
              <label class="form-label">Image</label>
              <input type="file" class="form-control" id="imageProduit">
            </div>
            <button type="submit" class="btn btn-starcoffe">Ajouter</button>
          </form>
        </section>

        <section id="historique" class="d-none" style="max-width: 800px; margin: auto;">
          <h3 class="text-white text-center mb-4">Historique des connexions</h3>
          <ul id="liste-historique" class="list-group"></ul>
        </section>

      </div>
    </div>
  </div>


<script src="script.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


</body>
</html>
